-- CreateTable
CREATE TABLE `ADMINISTRATOR` (
    `ID` INTEGER NOT NULL,

    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `B2BBEDRIJF` (
    `BEDRIJFID` INTEGER NOT NULL AUTO_INCREMENT,
    `EMAIL` VARCHAR(255) NULL,
    `ISACTIEF` BOOLEAN NULL DEFAULT false,
    `NAAM` VARCHAR(255) NULL,
    `SECTOR` VARCHAR(255) NULL,
    `TELEFOONNUMMER` VARCHAR(255) NULL,
    `UUIDVALUE` VARCHAR(255) NULL,
    `WEBSITEURL` VARCHAR(255) NULL,
    `BUS` VARCHAR(255) NULL,
    `GEMEENTE` VARCHAR(255) NULL,
    `HUISNUMMER` INTEGER NULL,
    `POSTCODE` INTEGER NULL,
    `STRAAT` VARCHAR(255) NULL,

    UNIQUE INDEX `B2BBEDRIJF_EMAIL_key`(`EMAIL`),
    UNIQUE INDEX `B2BBEDRIJF_UUIDVALUE_key`(`UUIDVALUE`),
    PRIMARY KEY (`BEDRIJFID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `B2BBEDRIJFUPDATEREQUEST` (
    `ID` INTEGER NOT NULL AUTO_INCREMENT,
    `BEDRIJFID` INTEGER NOT NULL,
    `EMAIL` VARCHAR(255) NULL,
    `NAAM` VARCHAR(255) NULL,
    `SECTOR` VARCHAR(255) NULL,
    `TELEFOONNUMMER` VARCHAR(255) NULL,
    `WEBSITEURL` VARCHAR(255) NULL,
    `BUS` VARCHAR(255) NULL,
    `GEMEENTE` VARCHAR(255) NULL,
    `HUISNUMMER` INTEGER NULL,
    `POSTCODE` INTEGER NULL,
    `STRAAT` VARCHAR(255) NULL,

    UNIQUE INDEX `B2BBEDRIJFUPDATEREQUEST_EMAIL_key`(`EMAIL`),
    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `BETALING` (
    `BETALINGID` INTEGER NOT NULL AUTO_INCREMENT,
    `BETAALDATUM` DATETIME(0) NULL,
    `BETAALDEBEDRAG` DECIMAL(38, 0) NULL,
    `ISGOEDGEKEURD` BOOLEAN NULL DEFAULT false,
    `ISVERWERKT` BOOLEAN NULL DEFAULT false,
    `TEBETALEN` DECIMAL(38, 0) NULL,
    `KlantID` INTEGER NULL,
    `BestellingID` INTEGER NULL,

    INDEX `FK_BETALING_BestellingID`(`BestellingID`),
    INDEX `FK_BETALING_KlantID`(`KlantID`),
    PRIMARY KEY (`BETALINGID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `Bestelling` (
    `BESTELLINGID` INTEGER NOT NULL AUTO_INCREMENT,
    `BEDRAG` DECIMAL(38, 0) NULL,
    `BESTELLINGDATUM` DATETIME(0) NULL,
    `BESTELLINGSTATUS` INTEGER NULL,
    `BETAALSTATUS` INTEGER NULL,
    `UUIDVALUE` VARCHAR(255) NULL,
    `BUS` VARCHAR(255) NULL,
    `GEMEENTE` VARCHAR(255) NULL,
    `HUISNUMMER` INTEGER NULL,
    `POSTCODE` INTEGER NULL,
    `STRAAT` VARCHAR(255) NULL,
    `klantid` INTEGER NULL,
    `leverancierid` INTEGER NULL,

    UNIQUE INDEX `Bestelling_UUIDVALUE_key`(`UUIDVALUE`),
    INDEX `FK_Bestelling_klantid`(`klantid`),
    INDEX `FK_Bestelling_leverancierid`(`leverancierid`),
    PRIMARY KEY (`BESTELLINGID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `GEBRUIKER` (
    `ID` INTEGER NOT NULL AUTO_INCREMENT,
    `DTYPE` VARCHAR(31) NULL,
    `EMAIL` VARCHAR(255) NULL,
    `GEBRUIKERSNAAM` VARCHAR(255) NOT NULL,
    `ISWACHTWOORDVERANDERD` BOOLEAN NULL DEFAULT false,
    `ROL` INTEGER NULL,
    `SALT` VARCHAR(255) NULL,
    `WACHTWOORD_HASH` VARCHAR(255) NULL,

    UNIQUE INDEX `GEBRUIKER_EMAIL_key`(`EMAIL`),
    UNIQUE INDEX `email`(`GEBRUIKERSNAAM`),
    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `KLANT` (
    `ID` INTEGER NOT NULL,

    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `KLANT_B2BBEDRIJF` (
    `bedrijf_BEDRIJFID` INTEGER NOT NULL,
    `Klant_ID` INTEGER NOT NULL,

    UNIQUE INDEX `KLANT_B2BBEDRIJF_Klant_ID_key`(`Klant_ID`),
    INDEX `FK_KLANT_B2BBEDRIJF_Klant_ID`(`Klant_ID`),
    PRIMARY KEY (`bedrijf_BEDRIJFID`, `Klant_ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `LEVERANCIER` (
    `ID` INTEGER NOT NULL,

    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `LEVERANCIER_B2BBEDRIJF` (
    `bedrijf_BEDRIJFID` INTEGER NOT NULL,
    `Leverancier_ID` INTEGER NOT NULL,

    UNIQUE INDEX `LEVERANCIER_B2BBEDRIJF_Leverancier_ID_key`(`Leverancier_ID`),
    INDEX `FK_LEVERANCIER_B2BBEDRIJF_Leverancier_ID`(`Leverancier_ID`),
    PRIMARY KEY (`bedrijf_BEDRIJFID`, `Leverancier_ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `PRODUCT` (
    `ID` INTEGER NOT NULL AUTO_INCREMENT,
    `NAAM` VARCHAR(255) NOT NULL,
    `AANTALINSTOCK` INTEGER NULL,
    `EENHEIDSPRIJS` DECIMAL(38, 0) NULL,

    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `PRODUCTINBESTELLING` (
    `ID` BIGINT NOT NULL AUTO_INCREMENT,
    `AANTAL` INTEGER NULL,
    `B2BBESTELLING_BESTELLINGID` INTEGER NULL,
    `PRODUCTID` INTEGER NULL,

    INDEX `FK_PRODUCTINBESTELLING_B2BBESTELLING_BESTELLINGID`(`B2BBESTELLING_BESTELLINGID`),
    INDEX `FK_PRODUCTINBESTELLING_PRODUCTID`(`PRODUCTID`),
    PRIMARY KEY (`ID`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- CreateTable
CREATE TABLE `NOTIFICATIE` (
    `id` INTEGER NOT NULL AUTO_INCREMENT,
    `notificatieSoort` VARCHAR(191) NOT NULL,
    `datum` DATETIME(0) NOT NULL,
    `tekst` VARCHAR(1000) NOT NULL,
    `status` VARCHAR(10) NOT NULL,
    `avatar` VARCHAR(25) NOT NULL,
    `bestellingid` INTEGER NOT NULL,
    `GEBRUIKERID` INTEGER NOT NULL,

    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- AddForeignKey
ALTER TABLE `ADMINISTRATOR` ADD CONSTRAINT `FK_ADMINISTRATOR_ID` FOREIGN KEY (`ID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `BETALING` ADD CONSTRAINT `FK_BETALING_BestellingID` FOREIGN KEY (`BestellingID`) REFERENCES `Bestelling`(`BESTELLINGID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `BETALING` ADD CONSTRAINT `FK_BETALING_KlantID` FOREIGN KEY (`KlantID`) REFERENCES `B2BBEDRIJF`(`BEDRIJFID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `Bestelling` ADD CONSTRAINT `FK_Bestelling_klantid` FOREIGN KEY (`klantid`) REFERENCES `B2BBEDRIJF`(`BEDRIJFID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `Bestelling` ADD CONSTRAINT `FK_Bestelling_leverancierid` FOREIGN KEY (`leverancierid`) REFERENCES `B2BBEDRIJF`(`BEDRIJFID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `KLANT` ADD CONSTRAINT `FK_KLANT_ID` FOREIGN KEY (`ID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `KLANT_B2BBEDRIJF` ADD CONSTRAINT `FK_KLANT_B2BBEDRIJF_Klant_ID` FOREIGN KEY (`Klant_ID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `KLANT_B2BBEDRIJF` ADD CONSTRAINT `FK_KLANT_B2BBEDRIJF_bedrijf_BEDRIJFID` FOREIGN KEY (`bedrijf_BEDRIJFID`) REFERENCES `B2BBEDRIJF`(`BEDRIJFID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `LEVERANCIER` ADD CONSTRAINT `FK_LEVERANCIER_ID` FOREIGN KEY (`ID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `LEVERANCIER_B2BBEDRIJF` ADD CONSTRAINT `FK_LEVERANCIER_B2BBEDRIJF_Leverancier_ID` FOREIGN KEY (`Leverancier_ID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `LEVERANCIER_B2BBEDRIJF` ADD CONSTRAINT `FK_LEVERANCIER_B2BBEDRIJF_bedrijf_BEDRIJFID` FOREIGN KEY (`bedrijf_BEDRIJFID`) REFERENCES `B2BBEDRIJF`(`BEDRIJFID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `PRODUCTINBESTELLING` ADD CONSTRAINT `FK_PRODUCTINBESTELLING_B2BBESTELLING_BESTELLINGID` FOREIGN KEY (`B2BBESTELLING_BESTELLINGID`) REFERENCES `Bestelling`(`BESTELLINGID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `PRODUCTINBESTELLING` ADD CONSTRAINT `FK_PRODUCTINBESTELLING_PRODUCTNAAM` FOREIGN KEY (`PRODUCTID`) REFERENCES `PRODUCT`(`ID`) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `NOTIFICATIE` ADD CONSTRAINT `FK_NOTIFICATIE_BESTELLINGID` FOREIGN KEY (`bestellingid`) REFERENCES `Bestelling`(`BESTELLINGID`) ON DELETE CASCADE ON UPDATE RESTRICT;

-- AddForeignKey
ALTER TABLE `NOTIFICATIE` ADD CONSTRAINT `FK_NOTIFICATIE_GEBRUIKERID` FOREIGN KEY (`GEBRUIKERID`) REFERENCES `GEBRUIKER`(`ID`) ON DELETE CASCADE ON UPDATE RESTRICT;
